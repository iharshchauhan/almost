<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Calendar</title>
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@48,700,1,0"
    />

    <style>
      * {
        box-sizing: border-box;
        padding: 0;
        margin: 0;
      }

      body {
        height: 100vh;
        color: white;
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        display: flex;
        -webkit-user-select: none;
        overflow: hidden;
      }

      ::-webkit-scrollbar {
        --scroll: rgb(255 255 255 / 80%);
        --scrollbar-top-btn: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none'%3E%3Cpath d='M6.102 16.981c-1.074 0-1.648-1.265-.941-2.073l5.522-6.311a1.75 1.75 0 0 1 2.634 0l5.522 6.311c.707.808.133 2.073-.941 2.073H6.102z' fill='rgb(0 0 0 / 50%)'/%3E%3C/svg%3E");
        --scrollbar-right-btn: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none'%3E%3Cpath d='M9 17.898c0 1.074 1.265 1.648 2.073.941l6.311-5.522a1.75 1.75 0 0 0 0-2.634l-6.311-5.522C10.265 4.454 9 5.028 9 6.102v11.796z' fill='rgb(0 0 0 / 50%)'/%3E%3C/svg%3E");
        --scrollbar-bottom-btn: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none'%3E%3Cpath d='M6.102 8c-1.074 0-1.648 1.265-.941 2.073l5.522 6.311a1.75 1.75 0 0 0 2.634 0l5.522-6.311c.707-.808.133-2.073-.941-2.073H6.102z' fill='rgb(0 0 0 / 50%)'/%3E%3C/svg%3E");
        --scrollbar-left-btn: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none'%3E%3Cpath d='M15 17.898c0 1.074-1.265 1.648-2.073.941l-6.311-5.522a1.75 1.75 0 0 1 0-2.634l6.311-5.522c.808-.707 2.073-.133 2.073.941v11.796z' fill='rgb(0 0 0 / 50%)'/%3E%3C/svg%3E");
        width: 14px;
        height: 14px;
        border-radius: 7px;
        transition: all 0.3s;
      }
      ::-webkit-scrollbar:vertical:hover {
        background: var(--scrollbar-bottom-btn) 0% calc(100% - 3px) / contain
            no-repeat,
          var(--scrollbar-top-btn) 0% calc(0% + 3px) / contain no-repeat,
          var(--scroll);
      }
      ::-webkit-scrollbar:horizontal:hover {
        background: var(--scrollbar-right-btn) calc(100% - 3px) 0% / contain
            no-repeat,
          var(--scrollbar-left-btn) calc(0% + 3px) 0% / contain no-repeat,
          var(--scroll);
      }
      ::-webkit-scrollbar-thumb {
        display: none;
        background: rgba(0, 0, 0, 0.5);
        background-clip: padding-box;
        border: 6px solid transparent;
        border-radius: 14px;
        transition: all 0.3s;
      }
      ::-webkit-scrollbar-thumb:hover {
        border: 4px solid transparent;
      }
      ::-webkit-scrollbar-button:single-button {
        height: 14px;
      }
      :hover::-webkit-scrollbar-thumb {
        display: block;
      }
      ::-webkit-scrollbar,
      ::-webkit-scrollbar {
        --scroll: rgb(44 44 44 / 25%);
        --scrollbar-top-btn: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none'%3E%3Cpath d='M6.102 16.981c-1.074 0-1.648-1.265-.941-2.073l5.522-6.311a1.75 1.75 0 0 1 2.634 0l5.522 6.311c.707.808.133 2.073-.941 2.073H6.102z' fill='rgb(255 255 255 / 50%)'/%3E%3C/svg%3E");
        --scrollbar-right-btn: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none'%3E%3Cpath d='M9 17.898c0 1.074 1.265 1.648 2.073.941l6.311-5.522a1.75 1.75 0 0 0 0-2.634l-6.311-5.522C10.265 4.454 9 5.028 9 6.102v11.796z' fill='rgb(255 255 255 / 50%)'/%3E%3C/svg%3E");
        --scrollbar-bottom-btn: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none'%3E%3Cpath d='M6.102 8c-1.074 0-1.648 1.265-.941 2.073l5.522 6.311a1.75 1.75 0 0 0 2.634 0l5.522-6.311c.707-.808.133-2.073-.941-2.073H6.102z' fill='rgb(255 255 255 / 50%)'/%3E%3C/svg%3E");
        --scrollbar-left-btn: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none'%3E%3Cpath d='M15 17.898c0 1.074-1.265 1.648-2.073.941l-6.311-5.522a1.75 1.75 0 0 1 0-2.634l6.311-5.522c.808-.707 2.073-.133 2.073.941v11.796z' fill='rgb(255 255 255 / 50%)'/%3E%3C/svg%3E");
      }
      ::-webkit-scrollbar-thumb,
      ::-webkit-scrollbar-thumb {
        background: rgba(255, 255, 255, 0.5);
        background-clip: padding-box;
      }

      /* Import Google font - Poppins */
      @import url("https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap");

      .calendarMain {
        width: calc(100% / 2);
      }

      header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 12.5px;
        padding-right: 25px;
        padding-left: 25px;
      }

      header .icons {
        display: flex;
      }

      header .icons span {
        height: 38px;
        width: 38px;
        margin: 0 1px;

        color: #878787;
        text-align: center;
        line-height: 38px;
        font-size: 1.9rem;
        user-select: none;
        border-radius: 8.5px;
        transition: all 0.3s;
        border: 1px solid rgba(104, 104, 104, 0);
      }

      .icons span:last-child {
        margin-right: -10px;
      }
      header .icons span:hover {
        background: rgba(155, 155, 155, 0.25);
      }
      header .icons span:active {
        background: rgba(214, 214, 214, 0.25);
        border: 1px solid rgba(104, 104, 104, 0.75);
      }

      header p {
        font-size: 1.45rem;
        font-weight: 600;
      }
      .calendar {
        height: max-content;
        margin: 15px;
        margin-top: -15px;
        padding: 20px;
        background-color: rgba(241, 241, 241, 0.09);
        border-radius: 5px;
        border: 1px solid #ffffff50;
      }

      .calendar ul {
        display: flex;
        flex-wrap: wrap;
        list-style: none;
        text-align: center;
      }

      .calendar li {
        color: rgb(255, 255, 255);
        width: calc(100% / 7);
        font-size: 1.07rem;
        font-weight: bolder;
        filter: drop-shadow(0px 0px 1px rgba(0, 0, 0, 0.35));
      }
      .calendar .weeks {
        position: relative;
        width: 100%;
        margin-top: -5px;
        padding-top: 7.5px;
        padding-bottom: 10px;
        border: 1px solid #ffffff50;
        background-color: #b6b6b628;
        border-radius: 7.5px;
      }
      .calendar .weeks li {
        font-weight: 750;
        opacity: 0.75;
        font-size: 17.5px;
      }

      .calendar .days {
        overflow-y: scroll;
        margin-top: 10px;
        height: 275px;
      }
      .calendar .days li {
        z-index: 1;
        padding-top: 12.5px;
        width: calc(100% / 7);
        border-radius: 7.5px;
        transition: all 0.3s;
        margin-bottom: 5px;
      }

      .days li.inactive {
        color: #aaa;
      }
      .days li.active {
        color: #fff;
      }

      .days li.active {
        background: #ff7b00;
        transition: all 0.3s;
      }
      .days li.active:hover {
        background: rgba(255, 255, 255, 0.1);
      }
      .days li.active:active {
        background: rgba(255, 255, 255, 0.075);
      }
      .days li:not(.active):hover {
        background: rgba(255, 255, 255, 0.1);
      }
      .days li:not(.active):active {
        background: rgba(255, 255, 255, 0.075);
      }

      .Events {
        width: calc(100% / 2);
      }
      .EventContainer {
        padding-bottom: 10px;
        margin-top: -2.5px;
        height: calc(100% - 90px);
        overflow: hidden;
        overflow-y: scroll;
      }

      .calendar-Today {
        font-weight: 650;
        color: white;
        margin: 15px;
        margin-top: 10px;
        font-size: 18px;
        margin-left: 25px;
        background-color: rgba(241, 241, 241, 0.09);
        border-radius: 5px;
        padding: 15px;
        width: 90%;
        border: 1px solid #ffffff50;
      }
      .calendar-Today:focus-visible {
        outline: none;
      }

      @media screen and (max-width: 700px) {
        body {
          display: block;
          overflow: auto;
        }
        .calendarMain,
        .Events {
          width: 100%;
        }
        .EventContainer {
          padding-bottom: 0px;
          height: calc(100% - 60px);
        }
      }
    </style>
  </head>
  <body>
    <div class="calendarMain">
      <header>
        <p class="current-date"></p>
        <div class="icons" id="calIcons">
          <span id="prev" class="material-symbols-rounded">chevron_left</span>
          <span id="next" class="material-symbols-rounded">chevron_right</span>
        </div>
      </header>
      <br />
      <div class="calendar">
        <ul class="weeks">
          <li>Sun</li>
          <li>Mon</li>
          <li>Tue</li>
          <li>Wed</li>
          <li>Thu</li>
          <li>Fri</li>
          <li>Sat</li>
        </ul>
        <ul class="days"></ul>
      </div>
    </div>

    <div class="Events">
      <header>
        <p class="current-date">Events</p>
        <div class="icons" id="AddEventsBtn">
          <span class="material-symbols-rounded" onclick="addNewEvent()">add</span>
        </div>
      </header>
      <div class="EventContainer">
        <input
          type="text"
          class="calendar-Today"
          placeholder="Add your event"
          id="event1M"
        />
        <input
          type="text"
          class="calendar-Today"
          placeholder="Add your event"
          id="event2M"
        />
      </div>
    </div>

    <script>
      function StartDateH() {
        const dToday2 = new Date();
        let dt2 = dToday2.getDate();

        var myDate2 = new Date();
        var myDate2M = new Date();

        var myDay2 = myDate2.getDay();
        var myMonth2 = myDate2M.getMonth();

        // Array of days.
        var weekday2 = [
          "Sunday",
          "Monday",
          "Tuesday",
          "Wednesday",
          "Thursday",
          "Friday",
          "Saturday",
        ];

        // Array of Months.
        var Months2 = [
          "January",
          "February",
          "March",
          "April",
          "May",
          "June",
          "July",
          "August",
          "September",
          "October",
          "November",
          "December",
        ];

        document.getElementById("txtdtyH").innerHTML =
          weekday2[myDay2] + ", " + Months2[myMonth2] + " " + dt2;
        setTimeout(startTimeH, 1000);
      }

      const daysTag = document.querySelector(".days"),
        currentDate = document.querySelector(".current-date"),
        prevNextIcon = document.querySelectorAll("#calIcons span");
      // getting new date, current year and month
      let date = new Date(),
        currYear = date.getFullYear(),
        currMonth = date.getMonth();
      // storing full name of all months in array
      const months = [
        "January",
        "February",
        "March",
        "April",
        "May",
        "June",
        "July",
        "August",
        "September",
        "October",
        "November",
        "December",
      ];

      const renderCalendar = () => {
        let firstDayofMonth = new Date(currYear, currMonth, 1).getDay(), // getting first day of month
          lastDateofMonth = new Date(currYear, currMonth + 1, 0).getDate(), // getting last date of month
          lastDayofMonth = new Date(
            currYear,
            currMonth,
            lastDateofMonth
          ).getDay(), // getting last day of month
          lastDateofLastMonth = new Date(currYear, currMonth, 0).getDate(); // getting last date of previous month
        let liTag = "";

        for (let i = firstDayofMonth; i > 0; i--) {
          // creating li of previous month last days
          liTag += `<li class="inactive">${lastDateofLastMonth - i + 1}</li>`;
        }

        for (let i = 1; i <= lastDateofMonth; i++) {
          // creating li of all days of current month
          // adding active class to li if the current day, month, and year matched
          let isToday =
            i === date.getDate() &&
            currMonth === new Date().getMonth() &&
            currYear === new Date().getFullYear()
              ? "active"
              : "";
          liTag += `<li class="${isToday}">${i}</li>`;
        }

        for (let i = lastDayofMonth; i < 6; i++) {
          // creating li of next month first days
          liTag += `<li class="inactive">${i - lastDayofMonth + 1}</li>`;
        }
        currentDate.innerText = `${months[currMonth]} ${currYear}`; // passing current mon and yr as currentDate text
        daysTag.innerHTML = liTag;
      };
      renderCalendar();

      prevNextIcon.forEach((icon) => {
        // getting prev and next icons
        icon.addEventListener("click", () => {
          // adding click event on both icons
          // if clicked icon is previous icon then decrement current month by 1 else increment it by 1
          currMonth = icon.id === "prev" ? currMonth - 1 : currMonth + 1;

          if (currMonth < 0 || currMonth > 11) {
            // if current month is less than 0 or greater than 11
            // creating a new date of current year & month and pass it as date value
            date = new Date(currYear, currMonth);
            currYear = date.getFullYear(); // updating current year with new date year
            currMonth = date.getMonth(); // updating current month with new date month
          } else {
            date = new Date(); // pass the current date as date value
          }
          renderCalendar(); // calling renderCalendar function
        });
      });

      var event1 = document.getElementById("event1M");
      var event2 = document.getElementById("event2M");
      var events = [];

      // Function to set events in local storage
      function setEvents(eventsArray) {
        localStorage.setItem("events", JSON.stringify(eventsArray));
      }

      // Function to get events from local storage
      function getEvents() {
        const storedEvents = localStorage.getItem("events");
        return storedEvents ? JSON.parse(storedEvents) : [];
      }

      // Initialize events array from local storage
      events = getEvents();

      // Function to update events array and local storage for event1
      function setEvent1(event1Value) {
        events[0] = event1Value;
        setEvents(events);
        event1.value = event1Value;
      }

      // Function to update events array and local storage for event2
      function setEvent2(event2Value) {
        events[1] = event2Value;
        setEvents(events);
        event2.value = event2Value;
      }

      // Load saved values from local storage
      const savedEvent1 = events[0];
      const savedEvent2 = events[1];

      if (savedEvent1) {
        event1.value = savedEvent1;
      }

      if (savedEvent2) {
        event2.value = savedEvent2;
      }

      // Event listeners for input changes
      event1.addEventListener("input", function () {
        setEvent1(event1.value);
      });

      event2.addEventListener("input", function () {
        setEvent2(event2.value);
      });

      function addNewEvent() {
    // Check if there are already maximum allowed events
    if (events.length >= 5) {
      alert("You can't add more than 5 events.");
      return;
    }

    const newEventId = events.length + 1;

    // Create a new input element
    const newEventInput = document.createElement("input");
    newEventInput.type = "text";
    newEventInput.classList.add("calendar-Today");
    newEventInput.placeholder = `Add your event ${newEventId}`;
    newEventInput.id = `event${newEventId}M`;
    newEventInput.addEventListener("input", function () {
      updateEvent(newEventId, newEventInput.value);
    });

    // Append the new event input to the EventContainer
    document.querySelector(".EventContainer").appendChild(newEventInput);

    // Initialize the new event in the events array
    events.push("");

    // Set focus on the newly added input
    newEventInput.focus();

    // Save the updated events array to local storage
    setEvents(events);
  }

    // Function to update events array and local storage for a specific event
    function updateEvent(eventId, eventValue) {
        events[eventId - 1] = eventValue;
        setEvents(events);
    }

    </script>
  </body>
</html>
